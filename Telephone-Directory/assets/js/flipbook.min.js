/*
 * jQuery Flipbook Slider
 * Copyright 2012 Miriam Zusin. All rights reserved.
 * To use this file you must to buy a licence at http://codecanyon.net/user/no81no/portfolio
 */
(function (e) {
	e.fn.flipbook = function (b) {
		var a = {};
		a.options = e.extend({
			page_width: 300,
			page_height: 200,
			flip_duration: 2E3,
			horizontal: !0,
			theme: "flipbook-black",
			handle_length: 20
		}, b);
		a.options.controls = e.extend({
			paging_length: 5,
			click: "flip",
			slideshow_delay: 2E3
		}, b.controls);
		a.box = e(this);
		a.container = new e.fn.flipbook.container(a.options, a.box);
		a.flip = new e.fn.flipbook.flip(a.options, a.container);
		return a
	}
})(jQuery);
(function (e) {
	e.fn.flipbook.container = function (b, a) {
		var d = {
			pages: [],
			pairs: "",
			ul: "",
			li_list: "",
			book: a.find(".flipbook"),
			controls_box: a.find(".flipbook-controls"),
			preloader: a.find(".flipbook-preloader"),
			controls: ""
		},
			c = function () {
		
				for (var a, c, n, q, k, o = 0; o < d.li_list.length; o++) {
					a = d.li_list.eq(o);
					n = a.children("div").eq(0);
					a.append("<div class='prev-handle'></div><div class='next-handle'></div>");
					q = a.children(".prev-handle").eq(0);
					k = a.children(".next-handle").eq(0);
					c = q;
					var j = k;
					b.horizontal ? (c.css("width", b.handle_length), c.css("height", b.page_height), c.css("left", "0px"), c.css("top", "0px"), j.css("width", b.handle_length), j.css("height", b.page_height), j.css("top", "0px"), j.css("left", b.page_width - b.handle_length)) : (c.css("height", b.handle_length), c.css("width", b.page_width), c.css("top", "0px"), c.css("left", "0px"), j.css("height", b.handle_length), j.css("width", b.page_width), j.css("left", "0px"), j.css("top", b.page_height - b.handle_length));
					c = new e.fn.flipbook.page;
					c.number = o;
					c.jq_el = a;
					c.jq_wrapper = n;
					c.prev_handle =
					q;
					c.next_handle = k;
					a = n;
					a.css("width", b.page_width + "px");
					a.css("height", b.page_height + "px");
					a = c;
					a.jq_el.css("width", b.page_width + "px");
					a.jq_el.css("height", b.page_height + "px");
					b.horizontal ? (a.jq_el.css("top", "0px"), a.jq_el.css("left", b.page_width + "px")) : (a.jq_el.css("top", b.page_height + "px"), a.jq_el.css("left", "0px"));
					d.pages.push(c)
				}
			};
		d.init_layers = function () {
			for (var b, a, c = 0; c < d.pages.length; c++) b = d.pages[c], a = d.pages.length - c, b.left_positioned ? (b.jq_el.css("z-index", 100 * c), b.jq_el.css("border-radius", "0px 5px 5px 0px"), b.prev_handle.show(), b.next_handle.hide()) : (b.jq_el.css("z-index", 100 * a), b.jq_el.css("border-radius", "5px 0px 0px 5px"), b.prev_handle.hide(), b.next_handle.show())
		};
		a.addClass(b.theme);
		(function () {
			var a, c;
			b.horizontal ? (a = 2 * b.page_width, c = b.page_height) : (a = b.page_width, c = 2 * b.page_height);
			d.book.css("width", a + "px");
			d.book.css("height", c + "px")
		})();
		d.ul = d.book.children("ul");
		if (void 0 != d.ul && 0 < d.ul.length && (b.horizontal ? (d.ul.css("top", "0px"), d.ul.css("left", -b.page_width / 2 + "px")) : (d.ul.css("top", -b.page_height / 2 + "px"), d.ul.css("left", "0px")), d.li_list = d.ul.children("li"), c(), d.pairs = new e.fn.flipbook.pairs(b, d.pages), 0 < d.pages.length)) d.init_layers(), d.book.show(), d.controls_box.show(), d.preloader.hide(), d.controls = new e.fn.flipbook.controls(b, d.controls_box, d.pairs);
		return d
	}
})(jQuery);
(function (e) {
	e.fn.flipbook.controls = function (b, a, d) {
		var c = {
			paging_ul: a.find("ul.paging-ul"),
			slideshow_ul: a.find("ul.slideshow-ul"),
			paging: a.find(".paging"),
			paging_buttons: "",
			prev: a.find(".prev-btn input"),
			next: a.find(".next-btn input"),
			first: a.find(".first-btn input"),
			last: a.find(".last-btn input"),
			play: a.find(".play-btn input"),
			pause: a.find(".pause-btn input"),
			stop: a.find(".stop-btn input"),
			prev_index: -1,
			next_index: -1,
			span_index: -1,
			RADIX: 10
		},
			e = function () {
	
				var alphabets = ["","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];

				for (var b, a, e, o, j = 0; j < d.list.length; j++) 

if (b = d.list[j], a = b.prev, b = b.next, "" != a || "" != b)"" == a ? (o = b.number + 1, c.paging.append("<span data-index='" + j + "' data-prev='-1' data-next='" + b.number + "' class='current' style='display: none;'>" + "Home" + "</span>")) : "" == b ? (e = a.number + 1, c.paging.append("<span data-index='" + j + "' data-prev='" + a.number + "' data-next='-1' style='display: none;'>" + alphabets[o] + "</span>")) : (e = a.number + 1, o = b.number + 1, c.paging.append("<span data-index='" + j + "' data-prev='" + a.number + "' data-next='" + b.number + "' style='display: none;'>" + alphabets[e] + " - " + alphabets[o] + "</span>"));
				c.paging_buttons = c.paging.find("span");
				i(c.paging_buttons.eq(0))
			},
			i = function (d) {
			
				var e = parseInt(d.attr("data-index"), c.RADIX),
					k, i;
				0 <= e - c.left_step && e + c.right_step < c.paging_buttons.length ? k = {
					start: e - c.left_step,
					end: e + c.right_step
				} : (k = parseInt(e / b.controls.paging_length, c.RADIX) * b.controls.paging_length, i = k + b.controls.paging_length - 1, i >= c.paging_buttons.length && (i = c.paging_buttons.length - 1, k = c.paging_buttons.length - b.controls.paging_length), 0 >= k && (k = 0), k = {
					start: k,
					end: i
				});
				i = k;
				for (var j = 0; j < c.paging_buttons.length; j++) k =
				c.paging_buttons.eq(j), j >= i.start && j <= i.end ? k.show() : k.hide();
				c.prev_index = d.attr("data-prev");
				c.next_index = d.attr("data-next");
				c.span_index = e;
				c.paging_ul.css("margin-left", (a.width() - c.paging_ul.width()) / 2);
				c.slideshow_ul.css("margin-left", (a.width() - c.slideshow_ul.width()) / 2);
				d = c.prev_index;
				e = c.next_index;
				0 < c.prev.length && 0 < c.next.length && (-1 == d ? (c.prev.addClass("prev-btn-off"), c.next.removeClass("next-btn-off")) : -1 == e ? (c.prev.removeClass("prev-btn-off"), c.next.addClass("next-btn-off")) : (c.prev.removeClass("prev-btn-off"), c.next.removeClass("next-btn-off")));
				0 < c.first.length && 0 < c.last.length && (-1 == d ? (c.first.addClass("first-btn-off"), c.last.removeClass("last-btn-off")) : -1 == e ? (c.first.removeClass("first-btn-off"), c.last.addClass("last-btn-off")) : (c.first.removeClass("first-btn-off"), c.last.removeClass("last-btn-off")));
				for (var m = 0; m < c.paging_buttons.length; m++) k = c.paging_buttons.eq(m), i = k.attr("data-prev"), j = k.attr("data-next"), d == i && e == j ? k.addClass("current") : k.removeClass("current")
			};
		c.update_controls = function () {
			var b =
			c.paging_buttons.eq(d.current);
			i(b)
		};
		c.left_step = parseInt(b.controls.paging_length / 2, c.RADIX);
		c.right_step = b.controls.paging_length - c.left_step - 1;
		0 < d.list.length && e();
		return c
	}
})(jQuery);
(function (e) {
	e.fn.flipbook.drag = function (b, a, d, c) {
		var m = {
			is_mousedown: !1,
			is_mousemove: !1,
			moved: !1
		};
		(function () {
			a.mousedown(function () {
				m.is_mousedown = !0;
				return !1
			});
			e(document).mousemove(function (b) {
				if (m.is_mousedown && e.isFunction(d)) return m.moved = !0, d(b), !1
			});
			e(document).mouseup(function (d) {
				m.is_mousedown && m.moved && e.isFunction(c) && c(d);
				m.is_mousedown = !1;
				return m.moved = !1
			})
		})();
		return m
	}
})(jQuery);
(function (e) {
	e.fn.flipbook.flip = function (b, a) {
	
		var d = {
			pages_num: 0,
			direction: {
				PREV: 0,
				NEXT: 1
			},
			animated: !1,
			pause: !1,
			stop: !1,
			drag: !1
		},
			c = function (p, c, g, f) {
	
				d.animated = f;
				"" == p && void 0 != p && "" != p.prev && "" != p.next ? (b.horizontal ? (g.prev.jq_el.css("width", "0px"), g.prev.jq_el.css("left", 2 * b.page_width + "px")) : (g.prev.jq_el.css("height", "0px"), g.prev.jq_el.css("top", 2 * b.page_height + "px")), c.next.jq_el.css("z-index", 100 * a.pages.length), g.prev.jq_el.css("z-index", 100 * (a.pages.length + 1))) : (b.horizontal ? (p.next.jq_el.css("width", "0px"), p.next.jq_el.css("left", "0px"), p.next.jq_wrapper.css("right", "0px"), c.prev.jq_wrapper.css("right", "0px")) : (p.next.jq_el.css("height", "0px"), p.next.jq_el.css("top", "0px"), p.next.jq_wrapper.css("bottom", "0px"), c.prev.jq_wrapper.css("bottom", "0px")), c.prev.jq_el.css("z-index", 100 * a.pages.length), p.next.jq_el.css("z-index", 100 * (a.pages.length + 1)))
			},
			m = function (a, c, g, f, h) {
				g = a == d.direction.PREV ? b.horizontal ? {
					width: (b.page_width - h) / 2 + "px"
				} : {
					height: b.page_height - h + "px"
				} : b.horizontal ? {
					width: b.page_width - h + "px"
				} : {
					height: b.page_height - h + "px"
				};
				a == d.direction.PREV ? c.prev.jq_el.animate(g, f) : c.next.jq_el.animate(g, f)
			},
			i = function (a, c, g, f, h, e) {
				g == d.direction.PREV ? b.horizontal ? (a = f.prev.jq_el.offset().left + f.prev.jq_el.width() - a, 0 <= a && a <= b.page_width && (f.prev.jq_el.css("width", a + "px"), q(d.direction.PREV, "", f, h, a, ""))) : (a = f.prev.jq_el.offset().top + f.prev.jq_el.height() - c, 0 <= a && a <= b.page_height && (f.prev.jq_el.css("height", a + "px"), q(d.direction.PREV, "", f, h, a, ""))) : b.horizontal ? (a -= f.next.jq_el.offset().left, 0 <= a && a <= b.page_width && (f.next.jq_el.css("width", a + "px"), q(d.direction.NEXT, e, f, "", a, ""))) : (a = c - f.next.jq_el.offset().top, 0 <= a && a <= b.page_height && (f.next.jq_el.css("height", a + "px"), q(d.direction.NEXT, e, f, "", a, "")))
			},
			n = function (a, c, g, f, h, e) {
				g == d.direction.PREV ? b.horizontal ? (a = f.prev.jq_el.offset().left + f.prev.jq_el.width() - a, a = b.flip_duration * a / b.page_width, d.flip_prev(f, h, b.page_width, a, function () {
					k(g, f, h, "")
				}, !0)) : (a = f.prev.jq_el.offset().top + f.prev.jq_el.height() - c, a = b.flip_duration * a / b.page_height, d.flip_prev(f, h, b.page_height, a, function () {
					k(g, f, h, "")
				}, !0)) : b.horizontal ? (a -= f.next.jq_el.offset().left, a = b.flip_duration * a / b.page_width, d.flip_next(f, e, b.page_width, a, function () {
					k(g, f, "", e)
				}, !0)) : (a = c - f.next.jq_el.offset().top, a = b.flip_duration * a / b.page_height, d.flip_next(f, e, b.page_height, a, function () {
					k(g, f, "", e)
				}, !0));
				d.drag = !1
			},
			q = function (c, l, g, f, h) {
				var e, i, k, j, m;
				e = b.page_width - h;
				i = b.page_height - h;
				h = c == d.direction.PREV && "" == g.next || c == d.direction.NEXT && "" == g.prev;
				j = c == d.direction.PREV && "" == f.prev || c == d.direction.NEXT && "" == l.next;
				m = "" == g.prev && "" == l.next || "" == g.next && "" == f.prev;
				c == d.direction.PREV ? (k = e, c = i, b.horizontal ? (l = k, f.next.jq_el.css("width", e + "px"), f.next.jq_el.css("left", l + "px"), g.prev.jq_el.css("left", l + "px"), m ? (h = b.page_width / 2 - e, a.ul.css("left", h + "px")) : h ? (h = (b.page_width - e) / 2, a.ul.css("left", h + "px")) : j && a.ul.css("left", -e / 2 + "px")) : (l = c, f.next.jq_el.css("height", i + "px"), f.next.jq_el.css("top", l + "px"), g.prev.jq_el.css("top", l + "px"), m ? (h = b.page_height / 2 - i, a.ul.css("top", h + "px")) : h ? (h = (b.page_height - i) / 2, a.ul.css("top", h + "px")) : j && a.ul.css("top", -i / 2 + "px"))) : (k = 2 * (b.page_width - e), c = 2 * (b.page_height - i), b.horizontal ? (g = k, l.prev.jq_el.css("width", e), l.prev.jq_el.css("left", g + "px"), m ? (h = -b.page_width / 2 + e, a.ul.css("left", h + "px")) : h ? (h = (e - b.page_width) / 2, a.ul.css("left", h + "px")) : j && a.ul.css("left", e / 2 + "px")) : (g = c, l.prev.jq_el.css("height", i), l.prev.jq_el.css("top", g + "px"), m ? (h = -b.page_height / 2 + i, a.ul.css("top", h + "px")) : h ? (h = (i - b.page_height) / 2, a.ul.css("top", h + "px")) : j && a.ul.css("top", i / 2 + "px")))
			},
			k = function (c, e, g, f) {
				if (c == d.direction.PREV) {
					b.horizontal ? e.prev.jq_el.css("width", b.page_width + "px") : e.prev.jq_el.css("height", b.page_height + "px");
					if ("" != e.prev) e.prev.left_positioned = !1;
					if ("" != g.next) g.next.left_positioned = !1;
					b.horizontal ? (g.next.jq_wrapper.css("right", ""), e.prev.jq_wrapper.css("right", "")) : (g.next.jq_wrapper.css("bottom", ""), e.prev.jq_wrapper.css("bottom", ""))
				} else {
					b.horizontal ? (e.next.jq_el.css("width", b.page_width + "px"), e.next.jq_el.css("left", "0px")) : (e.next.jq_el.css("height", b.page_height + "px"), e.next.jq_el.css("top", "0px"));
					if ("" != e.next) e.next.left_positioned = !0;
					if ("" != f.prev) f.prev.left_positioned = !0
				}
				a.init_layers();
				c == d.direction.PREV ? a.pairs.update_current_index(g) : a.pairs.update_current_index(f);
				a.controls.update_controls()
			},
			o = function (d, b) {
				for (var c, e = d; e <= b; e++) 0 <= e && e < a.pairs.list.length && (c = a.pairs.list[e], "" != c.prev && c.prev.jq_el.hide(), "" != c.next && c.next.jq_el.hide())
			},
			j = function (c, e, g) {
				a.pairs.get_current_pair();
				var f, h;
				g == d.direction.PREV ? (g = !1, f = b.page_width + "px", h = b.page_height + "px") : (g = !0, h = f = "0px");
				for (var i = c; i <= e; i++) if (0 <= i && i < a.pairs.list.length) {
					c = a.pairs.list[i];
					if ("" != c.prev) c.prev.jq_el.show(), c.prev.left_positioned = g, b.horizontal ? c.prev.jq_el.css("left", f) : c.prev.jq_el.css("top", h);
					if ("" != c.next) c.next.jq_el.show(), c.next.left_positioned = g, b.horizontal ? c.next.jq_el.css("left", f) : c.next.jq_el.css("top", h)
				}
			},
			r = function () {
				if (!d.animated) d.stop = !1, d.jump(0)
			};
		d.flip_prev = function (a, l, g, f, h, i) {
			var j, n;
			j = {
				duration: f / 2,
				easing: "swing",
				step: function (b, c) {
					q(d.direction.PREV, "", a, l, b, c)
				},
				complete: function () {
					d.animated = !1;
					n = !0 == b.horizontal && g >= b.page_width || !1 == b.horizontal && g >= b.page_height;
					e.isFunction(h) && i && h();
					n && k(d.direction.PREV, a, l, "");
					e.isFunction(h) && !i && h()
				}
			};
			"" != l && "" != l.next && !d.animated && (c(l, a, "", !0), m(d.direction.PREV, a, f, j, g))
		};
		d.flip_next = function (a, l, g, f, h, i) {
			var j, n;
			j = {
				duration: f / 2,
				easing: "swing",
				step: function (b, c) {
					q(d.direction.NEXT, l, a, "", b, c)
				},
				complete: function () {
					d.animated = !1;
					n = !0 == b.horizontal && g >= b.page_width || !1 == b.horizontal && g >= b.page_height;
					e.isFunction(h) && i && h();
					n && k(d.direction.NEXT, a, "", l);
					e.isFunction(h) && !i && h()
				}
			};
			"" != l && "" != l.prev && !d.animated && (c("", a, l, !0), m(d.direction.NEXT, a, f, j, g))
		};
		d.open = function (c, e, g) {
			var f, h = a.pairs.get_prev_pair(),
				i = a.pairs.get_current_pair(),
				j = a.pairs.get_next_pair();
			"" != a.pairs.get_pair(c) && c != i.prev.number && c != i.next.number ? (f = b.horizontal ? b.page_width : b.page_height, c < i.prev.number ? d.flip_prev(i, h, f, b.flip_duration, function () {
				setTimeout(function () {
					d.pause ? d.stop && r() : d.open(c, e, g)
				}, e)
			}, !1) : d.flip_next(i, j, f, b.flip_duration, function () {
				setTimeout(function () {
					d.pause ? d.stop && r() : d.open(c, e, g)
				}, e)
			}, !1)) : g && !d.animated && d.jump(0)
		};
		d.slideshow = function (c) {
			var e, g = a.pairs.get_current_pair(),
				f = a.pairs.get_next_pair();
			e = b.horizontal ? b.page_width : b.page_height;
			d.pause = !1;
			d.flip_next(g, f, e, b.flip_duration, function () {
				setTimeout(function () {
					d.pause ? d.stop && r() : d.open(a.pages.length - 1, c, !0)
				}, c)
			}, !1)
		};
		d.jump = function (c) {
			var e, g = a.pairs.get_current_pair(),
				f = a.pairs.get_pair(c),
				h = a.pairs.get_pair_index(c);
			"" != f && c != g.prev.number && c != g.next.number && (e = b.horizontal ? b.page_width : b.page_height, c < g.prev.number ? (o(h + 1, a.pairs.current - 1), d.flip_prev(g, f, e, b.flip_duration, function () {
				j(h + 1, a.pairs.current - 1, d.direction.PREV)
			}, !0)) : (o(a.pairs.current + 1, h - 1), d.flip_next(g, f, e, b.flip_duration, function () {
				j(a.pairs.current + 1, h - 1, d.direction.NEXT)
			}, !0)))
		};
		d.next = function () {
			var c = a.pairs.get_current_pair(),
				e = a.pairs.get_next_pair();
			b.horizontal ? d.flip_next(c, e, b.page_width, b.flip_duration, "", !1) : d.flip_next(c, e, b.page_height, b.flip_duration, "", !1)
		};
		d.prev = function () {
			var c = a.pairs.get_prev_pair(),
				e = a.pairs.get_current_pair();
			b.horizontal ? d.flip_prev(e, c, b.page_width, b.flip_duration, "", !1) : d.flip_prev(e, c, b.page_height, b.flip_duration, "", !1)
		};
		d.pages_num = a.pages.length;
		(function () {
			for (var j, l, g, f, h = 0; h < a.pages.length; h++) j = a.pages[h], new e.fn.flipbook.drag(b, j.prev_handle, function (b) {
				if (!d.animated && (l = a.pairs.get_prev_pair(), g = a.pairs.get_current_pair(), "" != l && "" != l.next)) d.drag || c(l, g, "", !1), d.drag = !0, i(b.pageX, b.pageY, d.direction.PREV, g, l, "")
			}, function (a) {
				n(a.pageX, a.pageY, d.direction.PREV, g, l, "")
			}), new e.fn.flipbook.drag(b, j.next_handle, function (b) {
				if (!d.animated && (g = a.pairs.get_current_pair(), f = a.pairs.get_next_pair(), "" != f && "" != f.prev)) d.drag || c("", g, f, !1), d.drag = !0, i(b.pageX, b.pageY, d.direction.NEXT, g, "", f)
			}, function (a) {
				n(a.pageX, a.pageY, d.direction.NEXT, g, "", f)
			})
		})();
		(function () {
			var c, i, g;
			0 < a.controls.first.length && a.controls.first.click(function () {
				"slideshow" == b.controls.click ? d.open(0, 0, !1) : d.jump(0)
			});
			0 < a.controls.last.length && a.controls.last.click(function () {
				"slideshow" == b.controls.click ? d.open(d.pages_num - 1, 0, !1) : d.jump(d.pages_num - 1)
			});
			0 < a.controls.next.length && a.controls.next.click(function () {
				d.next()
			});
			0 < a.controls.prev.length && a.controls.prev.click(function () {
				d.prev()
			});
			0 < a.controls.paging.length && a.controls.paging.find("span").click(function () {
				i = e(this).attr("data-prev");
				g = e(this).attr("data-next");
				c = -1 != i ? i : g;
				"slideshow" == b.controls.click ? d.open(c, 0, !1) : d.jump(c)
			});
			0 < a.controls.play.length && a.controls.play.click(function () {
				d.slideshow(b.controls.slideshow_delay)
			});
			0 < a.controls.pause.length && a.controls.pause.click(function () {
				d.pause = !0
			});
			0 < a.controls.stop.length && a.controls.stop.click(function () {
				d.pause ? r() : (d.pause = !0, d.stop = !0)
			})
		})();
		return d
	}
})(jQuery);
(function (e) {
	e.fn.flipbook.page = function () {
		return {
			jq_el: "",
			jq_wrapper: "",
			prev_handle: "",
			next_handle: "",
			number: 0,
			left_positioned: !1
		}
	}
})(jQuery);
(function (e) {
	e.fn.flipbook.pairs = function (b, a) {
		var d = {
			list: [],
			current: 0
		};
		d.get_current_pair = function () {
			return d.list[d.current]
		};
		d.update_current_index = function (a) {
			for (var b, e = 0; e < d.list.length; e++) if (b = d.list[e], b.prev == a.prev && b.next == a.next) {
				d.current = e;
				break
			}
		};
		d.get_next_pair = function () {
			var a = "";
			d.current + 1 < d.list.length && (a = d.list[d.current + 1]);
			return a
		};
		d.get_prev_pair = function () {
			var a = "";
			0 <= d.current - 1 && (a = d.list[d.current - 1]);
			return a
		};
		d.get_pair = function (c) {
			var b = "",
				e;
			if (0 <= c && c < a.length) for (var n =
			0; n < d.list.length; n++) if (e = d.list[n], e.prev.number == c || e.next.number == c) {
				b = e;
				break
			}
			return b
		};
		d.get_pair_index = function (c) {
			var b = -1,
				e;
			if (0 <= c && c < a.length) for (var n = 0; n < d.list.length; n++) if (e = d.list[n], e.prev.number == c || e.next.number == c) {
				b = n;
				break
			}
			return b
		};
		(function () {
			if (0 < a.length) {
				d.list.push({
					prev: "",
					next: a[0]
				});
				for (var b = 2; b < a.length; b += 2) 0 <= b - 1 && d.list.push({
					prev: a[b - 1],
					next: a[b]
				});
				1 == (a.length - 1) % 2 && d.list.push({
					prev: a[a.length - 1],
					next: ""
				})
			}
		})();
		return d
	}
})(jQuery);
